//
//  RMGroupNode.m
//  Redmadrobot
//
//  Created by Dmitry Shashlov on 11/19/14.
//  Copyright (c) 2014 Dmitry Shashlov. All rights reserved.
//

#import "RMGroupNode.h"
#import "RMCollageScene.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@implementation RMGroupNode

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - Init

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
- (id)initWithCollageGroup:(RMCollageGroup *)group
{
  CGMutablePathRef groupPath = CGPathCreateMutable();
  for (RMCollageSector *sector in group.sectors) {
    CGPathAddRect(groupPath, NULL, [RMCollageScene rectForIndexPath:sector.indexPath
                                                    withCollageSize:sector.collage.size.intValue]);
  }
  self = [RMGroupNode shapeNodeWithPath:groupPath];
  if (self)
  {
    _group = group;
  }
  return self;
}

@end
